<% if total_pages > 0 %>
  <nav>
    <ul class="pagination">
      <li class="page-item <%= 'disabled' if current_page <= 1 %>">
        <%= link_to "Previous", url_for(action: 'results', page: current_page - 1, price_min: params[:price_min], price_max: params[:price_max]), class: "page-link" %>
      </li>
      <% pages.each do |p| %>
        <!-- this validation verifies that the page is not less than 1 nor more than the total of pages  -->
        <% if p > 0 && p <= total_pages %>
          <li class="page-item <%= 'active' if p == current_page %>">
            <%= link_to p, url_for(action: 'results', page: p, price_min: params[:price_min], price_max: params[:price_max]), class: "page-link" %>
          </li>
        <% end %>
      <% end %>
      <li class="page-item <%= 'disabled' if current_page >= total_pages %>">
        <%= link_to "Next", url_for(action: 'results', page: current_page + 1, price_min: params[:price_min], price_max: params[:price_max]), class: "page-link" %>
      </li>
    </ul>
  </nav>
<% end %>
